---
import { Button, H4, Icon, Image } from "ui";
---

<div class="modal-overlay">
  <div class="modal" data-template="callback">
    <div class="modal-form">
      <div class="btn-close" data-modal="close"></div>

      <div class="modal-title">Запишитесь на консультацию</div>

      <form class="the-form">
        <input type="text" name="name" placeholder="Ваше имя" required />
        <input type="tel" name="phone" placeholder="Ваш телефон" required />
        <Button class="uppercase">ОТПРАВИТЬ ЗАЯВКУ</Button>
        <div class="text-xs">
          Отправляя заявку Вы соглашаетесь <br />
          с <a href="#" class="font-bold"
            >Политикой обработки персональных данных</a
          >
        </div>
      </form>

      <div class="modal__footer">
        <div class="text-lg">
          Или запишитесь по телефону <a
            class="font-bold"
            href="tel:+79163771754"
            target="_blank"
          >
            +7 (916) 377-17-54</a
          >
        </div>

        <div class="group-row">
          <a href="#" target="_blank" title="Whatsapp">
            <Icon src="whatsapp-white.svg" />
          </a>
          <a href="#" target="_blank" title="Telegram">
            <Icon src="telegram-white.svg" />
          </a>
        </div>
      </div>

      <div class="modal__img">
        <Image src="modal-form.png" />
      </div>
    </div>
  </div>

  <div class="modal" data-template="success">
    <div class="modal-form">
      <div class="btn-close" data-modal="close"></div>

      <div class="modal-title"><strong>Спасибо</strong> за заявку!</div>
      <p class="modal-desc">
        Наш менеджер скоро свяжется <br /> с вами для уточнения деталей
      </p>

      <div class="modal__img">
        <Image src="modal-success.png" />
      </div>
    </div>
  </div>
</div>

<style lang="scss" is:global>
  @use "scss/helpers" as *;

  /* Overlay */
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 99;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    visibility: hidden;
    transition:
      opacity 0.3s ease,
      visibility 0.3s ease;

    &.show {
      opacity: 1;
      visibility: visible;
    }
  }

  /* Modal */
  .modal {
    width: fit-content;
    transform: scale(0.8);
    opacity: 0;
    transition: all 0.3s ease;
    display: none;
    align-items: center;
    justify-content: center;

    &.show {
      transform: scale(1);
      opacity: 1;
    }

    &-title {
      font-size: clamp(1.25rem, 1.0769rem + 0.7692vw, 2rem);
    }

    &__img {
      position: absolute;
      top: 50%;
      right: 0;
      transform: translate(0, -50%);

      @include media("sm") {
        display: none;
      }
    }

    &__footer {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: flex-start;
      gap: rem(15) rem(20);

      .text-lg {
        @include media("sm") {
          font-size: 1rem;
        }
      }

      .text-lg a {
        margin-left: rem(15);

        @include media("sm") {
          margin-left: rem(10);
        }
      }

      .group-row {
        gap: rem(15);
      }
    }
  }

  .modal-form {
    position: relative;
    padding: rem(30);
    min-height: rem(465);
    width: rem(700);
    color: #fff;
    background: var(--primary);
    border-radius: rem(30);
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    gap: rem(30);

    @include media("xl") {
      max-width: calc(100vw - 40px);
    }
    @include media("sm") {
      padding: rem(30) rem(20);
      min-height: rem(250);
      max-width: calc(100vw - 40px);
      border-radius: rem(20);
      gap: rem(20);
    }
    @include media("xs") {
      max-width: calc(100vw - 25px);
    }

    .btn-close {
      position: absolute;
      top: rem(25);
      right: rem(25);
      z-index: 2;
      width: rem(24);
      height: rem(24);
      background: url('data:image/svg+xml,<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L16.5 16.5" stroke="%23ffffff" /><path d="M16.5 1L1 16.5" stroke="%23ffffff" /></svg>')
        center/contain no-repeat;
      cursor: pointer;

      @include media("sm") {
        top: -35px;
        right: 10px;
      }
    }

    .the-form {
      position: relative;
      z-index: 2;
    }

    form {
      margin-top: 0;
      width: 100%;
      max-width: rem(365);
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: rem(18);

      @include media("md") {
        max-width: rem(300);
      }
      @include media("sm") {
        margin-top: rem(5);
        max-width: 100%;
        gap: rem(15);
      }

      input {
        padding: rem(20) rem(15);
        width: 100%;
        color: #000;
        background: #fff;
        border-radius: rem(20);

        @include media("sm") {
          padding: rem(15);
          border-radius: rem(15);
        }
      }

      button {
        width: 100%;
        box-shadow: 0 0 27px 0 rgba(0, 0, 0, 0.25);
      }
    }
  }
</style>
